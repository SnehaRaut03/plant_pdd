<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Plant Disease Detection Report</title>
    <style type="text/css">
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            color: #333;
        }
        .header {
            text-align: center;
            padding: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid #3a7e45;
        }
        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #3a7e45;
        }
        .report-title {
            font-size: 22px;
            margin: 10px 0;
        }
        .date {
            font-size: 14px;
            color: #666;
        }
        .section {
            margin-bottom: 25px;
        }
        .section-title {
            font-size: 18px;
            color: #3a7e45;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        .detection-image {
            text-align: center;
            margin: 20px 0;
        }
        .detection-image img {
            max-width: 300px;
            max-height: 300px;
            border: 1px solid #ddd;
        }
        .info-row {
            margin-bottom: 8px;
        }
        .label {
            font-weight: bold;
            display: inline-block;
            width: 180px;
        }
        .footer {
            margin-top: 40px;
            padding-top: 10px;
            border-top: 1px solid #eee;
            font-size: 12px;
            color: #666;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">Plant Disease Detection System</div>
        <div class="report-title">Disease Detection Report</div>
        <div class="date">{{ date }}</div>
    </div>
    
    <div class="section">
        <div class="section-title">Detection Information</div>
        <div class="info-row">
            <span class="label">User:</span> {{ user.username }}
        </div>
        <div class="info-row">
            <span class="label">Detection Date:</span> {{ detection.timestamp|date:"F j, Y, g:i a" }}
        </div>
        <div class="info-row">
            <span class="label">Plant:</span> {{ plant_name|title }}
        </div>
        <div class="info-row">
            <span class="label">Diagnosis:</span> {{ prediction }}
        </div>
    </div>
    
    {% if detection.image %}
    <div class="detection-image">
        <img src="file:///{{ detection.image.path|urlencode }}" alt="Plant Image">
    </div>
    {% endif %}
    
    <div class="section">
        <div class="section-title">Treatment Recommendations</div>
        <p>{{ treatment }}</p>
    </div>
    
    <div class="section">
        <div class="section-title">Plant Growing Requirements</div>
        <div class="info-row">
            <span class="label">Optimal Temperature:</span> {{ requirements.optimal_temperature }}
        </div>
        <div class="info-row">
            <span class="label">Sunlight Requirements:</span> {{ requirements.sunlight_requirements }}
        </div>
        <div class="info-row">
            <span class="label">Watering Requirements:</span> {{ requirements.watering_requirements }}
        </div>
    </div>
    
    <div class="footer">
        <p>This report was automatically generated by the Plant Disease Detection System.</p>
        <p>Report ID: {{ detection.id }}</p>
    </div>
</body>
</html>